 angular.module('EmployeeDirectory').service("dataService", function(){

        var employees = [
            {name:"Thomas Jackson", street:"1234 My Street", city:"Orlando", state:"FL", zip:"12345"},
            {name:"John Doe", street:"1234 My Street", city:"Orlando", state:"FL", zip:"12345"},
            {name:"Jane Doe", street:"1234 My Street", city:"Orlando", state:"FL", zip:"12345"},
            {name:"Donald Duck", street:"1234 My Street", city:"Orlando", state:"FL", zip:"12345"},
            {name:"Mickey Mouse", street:"1234 My Street", city:"Orlando", state:"FL", zip:"12345"},
            {name:"Ruth Fertel", street:"1234 My Street", city:"Orlando", state:"FL", zip:"12345"}
        ];

        this.getDirectory = function(){
            var str = localStorage.getItem("LocEmployees");
            employees = JSON.parse(str) || employees;
            return employees;
        };

        this.hireEmployee = function(name,street,city,state,zip){
            console.log(name);
            console.log(street);
            console.log(city);
            console.log(state);
            console.log(zip);


            if (name === null){
                alert("Please Enter a Name");
                return;
            } else if (street === null){
                alert("Please Enter a Street");
                return;
            } else if (city === null){
                alert("Please Enter a City");
                return;
            } else if (state === null){
                alert("Please Enter a State");
                return;
            } else if (zip === null){
                alert("Please Enter a Zip");
                return;
            } else {
                employees.push({name: name, street: street, city: city, state: state, zip: zip});
                var str = JSON.stringify(employees);
                localStorage.setItem("LocEmployees", str);
                this.name = null;
                this.street = null;
                this.city = null;
                this.state = null;
                this.zip = null;
            }


        };
        this.termEmployee = function(employee){
            console.log(employee);
            var index = employees.indexOf(employee);
            console.log(index);
            console.log(employees);
            employees.splice(index,1);
            var str = JSON.stringify(employees);
            localStorage.setItem("LocEmployees", str);
            console.log(employees);
        };

    });
